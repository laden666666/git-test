# 本地仓库操作

## 列出git的全部配置信息
```
git config --list
```
		
## 列出git的帮助命令
```
git help
```

## 状态简览
可以查看修改状态
```
git status
```
也可以使用`git status -s`命令或`git status --short`命令，你将得到一种更为紧凑的格式输出。
```
git status -s
``` 

## 实现对指定文件的跟踪，然后执行git commit暂存已修改文件
```
git add xxx
git commit -m 'initial project version'
```

## 暂存已修改文件
Git可以暂存一个已跟踪文件的修改记录，其实只不过暂存了运行`git add`命令时的版本，如果现在提交，提交文件的版本是你最后一次运行`git add`命令时的那个版本，而不是运行`git commit`时，在工作目录中的当前版本。所以，运行了`git add`之后又作了修订的文件，需要重新运行`git add`把最新版本重新暂存起来
```
git add xxx
git commit
```

## 移除文件
要从Git中移除某个文件，就必须要从已跟踪文件清单中移除（确切地说，是从暂存区域移除），然后提交。可以用`git rm`命令完成此项工作，并连带从工作目录中删除指定的文件，这样以后就不会出现在未跟踪文件清单中了。

## 移动文件
运行`git mv`就相当于运行了下面三条命令：
```
mv README.md README
git rm README.md
git add README
```
同时可以使用mv命令实现修改文件名称。不管是直接使用`git mv`还是使用上述三个操作，Git都会意识到这是一次改名，所以不管何种方式结果都一样。两者唯一的区别是，`mv`是一条命令而另一种方式需要三条命令，直接用`git mv`轻便得多。

## 查看已暂存和未暂存的修改
`git diff`命令让你知道当前做的哪些更新还没有暂存，同时也可以知道有哪些更新已经暂存起来准备好了下次提交。
```
git diff
```
不管该命令在windows可能存在问题，显示的代码都是乱码

## 提交修改
现在的暂存区域已经准备妥当可以提交了。在此之前，请一定要确认还有什么修改过的或新建的文件还没有`git add`过，否则提交的时候不会记录这些还没暂存起来的变化。
这些修改过的文件只保留在本地磁盘。所以，每次准备提交前，先用`git status`看下，是不是都已暂存起来了，然后再运行提交命令`git commit`
```
git commit
```
这种方式会启动文本编辑器以便输入本次提交的说明。会启用默认指定的软件编辑，可以按照，使用`git config --global core.editor`命令设定指定的编辑软件。
另外，你也可以在 commit 命令后添加 -m 选项，将提交信息与命令放在同一行
给`git commit`加上`-a`选项，Git 就会自动把所有已经跟踪过的文件暂存起来一并提交，从而跳过`git add`步骤

## 查看提交历史
在提交了若干更新，又或者克隆了某个项目之后，你也许想回顾下提交历史。完成这个任务最简单而又有效的工具是`git log`命令。
```
git log
```

## 撤销提交
在任何一个阶段，都有可能想要撤消某些操作，有些撤消操作是不可逆的。
有时候我们提交完了才发现漏掉了几个文件没有添加，或者提交信息写错了。此时，可以运行带有`--amend`选项的提交命令尝试重新提交
```
git commit -m 'initial commit'
git add forgotten_file
git commit --amend
```
最终你只会有一个提交 - 第二次提交将代替第一次提交的结果。

## 取消暂存的文件
已经修改了两个文件并且想要将它们作为两次独立的修改提交，但是却意外地输入了`git add *`暂存了它们两个。如何只取消暂存两个中的一个呢？
可以使用`git reset HEAD`撤销一次提交

# 远程仓库操作
为了能在任意Git项目上协作，你需要知道如何管理自己的远程仓库。远程仓库是指托管在因特网或其他网络中的你的项目的版本库。
一个项目可以有好几个远程仓库，通常有些仓库对你只读，有些则可以读写。远程仓库需要有个名字，origin是Git给你克隆的仓库服务器的默认名字
与他人协作涉及管理远程仓库以及根据需要推送或拉取数据。管理远程仓库包括了解如何添加远程仓库、移除无效的远程仓库、管理不同的远程分支并定义它们是否被跟踪等等。

## 克隆远程仓库
`git clone`命令会自动设置本地`master`分支跟踪克隆的远程仓库的`master`分支。运行`git pull`通常会从最初克隆的服务器上抓取数据并自动尝试合并到当前所在的分支。

## 查看远程仓库
如果想查看你已经配置的远程仓库服务器，可以运行`git remote`命令。它会列出你指定的每一个远程服务器的简写。

## 添加远程仓库
运行`git remote add <shortname> <url>`添加一个新的远程Git仓库 

## 从远程仓库中抓取与拉取
从远程仓库中获得数据，可以执行
```
git fetch [remote-name]
```
这个命令会访问远程仓库，从中拉取所有你还没有的数据。执行完成后，你将会拥有那个远程仓库中所有分支的引用，可以随时合并或查看。

## 推送到远程仓库
```
git push origin master
```
只有当你有所克隆服务器的写入权限，并且之前没有人推送过时，这条命令才能生效。当你和其他人在同一时间克隆，他们先推送到上游然后你再推送到上游，你的推送就会毫无疑问地被拒绝。你必须先将他们的工作拉取下来并将其合并进你的工作后才能推送。

## 查看远程仓库
如果想要查看某一个远程仓库的更多信息，可以使用 git remote show [remote-name] 命令。

## 远程仓库的移除与重命名
如果想要重命名引用的名字可以运行`git remote rename`去修改一个远程仓库的简写名
值得注意的是这同样也会修改你的远程分支名字
如果因为一些原因想要移除一个远程仓库，可以使用`git remote rm`

# Git 标签
Git可以给历史中的某一个提交打上标签，以示重要

## 列出标签
```
git tag
```

## 创建标签
Git使用两种主要类型的标签：轻量标签（lightweight）与附注标签（annotated）。
一个轻量标签很像一个不会改变的分支 - 它只是一个特定提交的引用。
附注标签是存储在 Git 数据库中的一个完整对象。可以包含打标签者的名字、电子邮件地址、日期时间等等

## 附注标签
在Git中创建一个附注标签是很简单的。最简单的方式是当你在运行`tag`命令时指定`-a`选项。`-m`选项指定了一条将会存储在标签中的信息。
```
git tag -a v1.4 -m 'my version 1.4'
git tag
v0.1
v1.3
v1.4
```

## 轻量标签
另一种给提交打标签的方式是使用轻量标签。创建轻量标签，不需要使用-a、-s或-m选项，只需要提供标签名字。

## 共享标签
`git push`命令并不会传送标签到远程仓库服务器上。在创建完标签后你必须显式地推送标签到共享服务器上。可以运行 
```
git push origin [tagname]
```

## 检出标签
在Git中不能真的检出一个标签，因为它们并不能像分支一样来回移动。如果想要工作目录与仓库中特定的标签版本完全一样，可以使用
```
git checkout -b [branchname] [tagname]
```
这实际是在特定的标签上创建一个新分支
